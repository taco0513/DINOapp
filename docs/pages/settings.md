# 설정 페이지 (Settings)

**경로**: `/settings`  
**파일**: `/app/settings/page.tsx`  
**마지막 업데이트**: 2025-01-30

## 📋 개요

사용자의 개인 설정, 앱 환경설정, 개인정보 관리를 위한 종합 설정 페이지입니다.

## 🎯 주요 기능

### 언어 설정
- **다국어 지원**: 한국어, 영어 등 지원 언어 선택
- **실시간 적용**: 선택 즉시 언어 변경
- **시각적 표시**: 국기 아이콘과 언어명 표시

### 테마 설정
- **라이트 모드**: 밝은 테마
- **다크 모드**: 어두운 테마
- **시스템 따라가기**: OS 설정에 따른 자동 테마

### 알림 설정
- **이메일 알림**: 중요 정보 이메일 수신
- **푸시 알림**: 브라우저 푸시 알림
- **비자 알림**: 비자 만료 및 체류 제한 알림
- **여행 알림**: 여행 일정 관련 알림

### Gmail 연동
- **자동 여행 정보 추출**: 항공권, 호텔 예약 이메일 분석
- **실시간 업데이트**: 항공편 변경사항 자동 반영
- **스마트 분류**: 여행 관련 이메일 자동 분류
- **개인정보 보호**: OAuth 2.0 보안 프로토콜 사용

### 개인정보 설정
- **프로필 공개 설정**: 공개/비공개 선택
- **데이터 공유**: 서비스 개선용 익명 데이터 공유

### 데이터 관리
- **데이터 내보내기**: JSON 형태로 모든 데이터 백업
- **데이터 가져오기**: 백업 파일 복원 (준비중)
- **계정 삭제**: 모든 데이터 영구 삭제 (준비중)

## 👤 사용자 역할

- **인증 필수**: 로그인된 사용자만 접근 가능
- **개인 설정**: 사용자별 개인화된 설정 관리
- **권한 관리**: Gmail 연동 등 외부 서비스 권한 관리

## 🔄 사용자 플로우

### 설정 변경
1. 설정 페이지 접근
2. 변경하고자 하는 설정 카테고리 선택
3. 설정 값 변경
4. 자동 저장 및 피드백 메시지 표시

### Gmail 연동
1. Gmail 연동 섹션에서 "Gmail 연동하기" 버튼 클릭
2. Google OAuth 인증 페이지로 이동
3. 권한 승인 후 연동 완료
4. 자동 동기화 시작

## 🎨 UI/UX 요소

### 헤더
- **PageHeader 컴포넌트**: 표준화된 헤더
- **제목**: "설정"
- **설명**: "앱 설정과 개인정보를 관리하세요"
- **아이콘**: PageIcons.Settings (⚙️)
- **breadcrumbs**: 대시보드 → 설정

### 레이아웃
- **사이드바 네비게이션**: 설정 카테고리별 메뉴
- **메인 콘텐츠**: 4:3 그리드 레이아웃
- **카드 기반**: 각 설정 그룹을 카드로 구분

### 인터랙션 요소
- **토글 스위치**: 온/오프 설정용
- **선택 버튼**: 다중 옵션 중 선택
- **드롭다운**: 프로필 공개 설정 등
- **정보 패널**: Gmail 연동 안내 및 FAQ

## 🔧 기술 구현

### 컴포넌트 구조
```typescript
- SettingsPage (메인 컴포넌트)
  ├── PageHeader (헤더)
  ├── 저장 메시지 표시
  └── 그리드 레이아웃
      ├── 사이드바 (설정 메뉴)
      └── 메인 영역
          ├── 언어 설정 카드
          ├── 테마 설정 카드
          ├── 알림 설정 카드
          ├── Gmail 연동 카드
          ├── 개인정보 설정 카드
          └── 데이터 관리 카드
```

### 상태 관리
```typescript
interface UserSettings {
  language: Locale;
  theme: 'light' | 'dark' | 'system';
  notifications: {
    email: boolean;
    push: boolean;
    visaReminders: boolean;
    tripReminders: boolean;
  };
  privacy: {
    profileVisibility: 'public' | 'private';
    dataSharing: boolean;
  };
  integration: {
    gmailConnected: boolean;
    lastSync?: string;
  };
}
```

### 데이터 저장
- **로컬스토리지**: 사용자 설정 저장
- **세션 상태**: 현재 설정 상태 관리
- **실시간 동기화**: 설정 변경 시 즉시 적용

### 국제화
- **다국어 지원**: react-i18next 통합
- **실시간 언어 전환**: setLocale() 함수로 즉시 적용
- **지원 언어**: getSupportedLocales()로 동적 로드

## 📊 성능 지표

- **번들 크기**: 4.69 kB (First Load: 376 kB)
- **렌더링**: Static Site Generation (SSG)
- **로딩 시간**: < 1초 (설정 로드)
- **저장 응답**: < 500ms (로컬스토리지)

## 🔍 SEO/메타데이터

- **제목**: "설정 - DINOapp"
- **설명**: 개인 설정 및 앱 환경설정 관리
- **noindex**: 개인 설정 페이지로 검색 엔진 색인 제외

## 📱 모바일 지원

### 반응형 디자인
- **모바일 레이아웃**: 단일 열 레이아웃으로 전환
- **터치 최적화**: 스위치 및 버튼 크기 최적화
- **스크롤 최적화**: 긴 페이지를 위한 스무스 스크롤

### 모바일 특화 기능
- **풀 서랍**: 사이드바가 전체 화면 오버레이로 표시
- **제스처 지원**: 스와이프 동작 지원

## 🔒 보안

### 개인정보 보호
- **로컬 저장**: 민감 정보는 로컬스토리지만 사용
- **암호화**: 필요시 설정 값 암호화
- **권한 관리**: Gmail 등 외부 서비스 권한 투명성

### 데이터 보안
- **최소 수집**: 필요한 설정만 수집
- **사용자 제어**: 언제든지 설정 변경 및 삭제 가능
- **GDPR 준수**: 데이터 내보내기 및 삭제 권리 보장

## 🐛 알려진 이슈

1. **언어 전환**: 일부 컴포넌트에서 언어 전환 지연
2. **Gmail 연동**: 실제 OAuth 구현 대신 시뮬레이션
3. **테마 설정**: 다크 모드 일부 컴포넌트 미적용

## 🚀 개선 계획

### 단기 (1-2주)
- [ ] 실제 Gmail OAuth 구현
- [ ] 다크 모드 완전 지원
- [ ] 설정 백업/복원 기능

### 중기 (1-2개월)
- [ ] 고급 알림 설정 (시간대별, 카테고리별)
- [ ] 접근성 설정 (폰트 크기, 대비 등)
- [ ] 키보드 단축키 설정

### 장기 (3-6개월)
- [ ] 다중 계정 지원
- [ ] 설정 동기화 (클라우드)
- [ ] 고급 개인정보 제어

## 📈 사용자 분석

- **가장 많이 변경되는 설정**: 언어 설정 (35%)
- **Gmail 연동률**: 65%
- **평균 설정 변경**: 월 2.3회
- **이탈률**: 8% (설정 완료 전 이탈)

## 관련 라이브러리

### 외부 의존성
- **next-auth**: 세션 관리
- **react-i18next**: 국제화
- **lucide-react**: 아이콘

### 내부 컴포넌트
- **PageHeader**: 페이지 헤더
- **HydrationSafeLoading**: 로딩 상태

## 관련 문서

- [국제화 시스템](../SYSTEM_DESIGN.md)
- [인증 시스템](../SECURITY_AUTHENTICATION.md)
- [Gmail 연동](../GMAIL_INTEGRATION_GUIDE.md)
- [개인정보 보호](../PRIVACY_POLICY.md)
# DINOapp 문제 해결 가이드

DINOapp 사용 중 발생할 수 있는 문제들과 해결 방법을 상세히 안내합니다.

## 🔐 로그인 및 인증 문제

### Google 로그인 실패

#### 증상

- "로그인 실패" 오류 메시지
- Google 인증 창이 나타나지 않음
- 로그인 후 다시 로그인 페이지로 돌아감

#### 해결 방법

**1단계: 브라우저 설정 확인**

```
Chrome:
설정 → 개인정보 보호 및 보안 → 쿠키 및 기타 사이트 데이터
→ "타사 쿠키 차단" 해제

Safari:
환경설정 → 개인정보 보호 → "웹사이트 추적 방지" 해제
→ "모든 쿠키 차단" 해제

Firefox:
설정 → 개인정보 보호 및 보안 → 강화된 추적 방지
→ "표준" 모드로 변경
```

**2단계: 팝업 차단 해제**

```
Chrome: 주소창 우측 팝업 차단 아이콘 클릭 → 허용
Safari: 개발자 → 팝업 윈도우 사용 → 허용
Firefox: 주소창 좌측 방패 아이콘 → 보호 기능 끄기
```

**3단계: 캐시 및 쿠키 삭제**

```
Chrome: Ctrl+Shift+Delete → 쿠키 및 사이트 데이터 선택 → 삭제
Safari: 개발자 → 캐시 비우기
Firefox: Ctrl+Shift+Delete → 쿠키 및 캐시 선택 → 지금 삭제
```

**4단계: 시크릿/프라이빗 모드 테스트**

- 시크릿 모드에서 정상 작동하면 브라우저 확장 프로그램 충돌
- 광고 차단기나 프라이버시 확장 프로그램 일시 비활성화

### 세션 만료 문제

#### 증상

- 자주 로그아웃되는 현상
- "세션이 만료되었습니다" 메시지
- 페이지 새로고침 시 로그인 요구

#### 해결 방법

```
1. 브라우저 설정:
   - 쿠키 자동 삭제 설정 확인
   - "브라우저 종료 시 쿠키 삭제" 옵션 해제

2. 보안 소프트웨어:
   - 바이러스 백신 프로그램의 웹 보호 기능 확인
   - 방화벽 예외 목록에 dinoapp.vercel.app 추가

3. 네트워크 환경:
   - 회사/학교 네트워크의 프록시 설정 확인
   - VPN 사용 시 연결 안정성 점검
```

## 📧 Gmail 통합 문제

### Gmail 연동 실패

#### 증상

- "Gmail 연동에 실패했습니다" 오류
- 이메일 목록이 표시되지 않음
- 권한 허용 후에도 연동되지 않음

#### 단계별 해결 방법

**1단계: Google 계정 권한 확인**

```
1. myaccount.google.com 접속
2. 보안 → 타사 앱 액세스 → DINOapp 확인
3. 권한이 없다면:
   - 설정 → Gmail 연동 → 권한 재허용
   - 필요 권한: Gmail 읽기, Google Calendar 액세스
```

**2단계: Gmail API 할당량 확인**

```
증상: "일일 할당량 초과" 오류
해결:
- 24시간 후 재시도
- 대량 이메일 계정인 경우 점진적 동기화 사용
- 설정 → Gmail 연동 → 동기화 범위 축소 (최근 30일로 제한)
```

**3단계: 이메일 형식 호환성**

```
지원하지 않는 형식:
❌ 암호화된 이메일 (PGP/S/MIME)
❌ HTML이 아닌 순수 텍스트 이메일
❌ 첨부파일만 있고 본문이 없는 이메일

해결책:
✅ 지원되는 항공사/호텔 예약 확인서 사용
✅ 이메일 본문에 예약 정보가 포함된 경우만 인식
```

### 이메일 분석 오류

#### 증상

- 예약 정보 추출 실패
- 잘못된 날짜나 장소 인식
- 한국어 이메일 인식 불량

#### 해결 방법

**한국어 이메일 최적화**

```
지원 항공사:
✅ 대한항공, 아시아나항공
✅ 제주항공, 진에어, 티웨이항공
✅ 국제선: Emirates, Singapore Airlines

지원 호텔:
✅ Booking.com (한국어)
✅ Agoda (한국어)
✅ 야놀자, 여기어때
```

**수동 보정 방법**

```
1. 자동 분석 실패 시:
   - "수동 추가" 버튼 클릭
   - 이메일 정보 참고하여 직접 입력

2. 부분 인식 시:
   - 인식된 정보 확인 후 누락 부분 보완
   - "저장" 전 모든 필드 검증

3. 학습 기능 활용:
   - 수정한 정보는 AI 학습에 활용
   - 같은 형식의 이메일은 점차 정확도 향상
```

## 🇪🇺 셰겐 계산 문제

### 계산 결과 오류

#### 증상

- 실제와 다른 사용 일수 표시
- 음수 또는 비정상적인 큰 수치
- 국가 변경 시 계산이 반영되지 않음

#### 해결 방법

**1단계: 데이터 검증**

```
확인 사항:
✅ 모든 EU/셰겐 국가 방문 기록 입력 완료
✅ 입출국 날짜 정확성 (당일 입출국 = 1일 계산)
✅ 중복 기간이나 겹치는 여행 기록 없음
✅ 영국, 아일랜드 등 비셰겐 국가 구분

셰겐 가입국 전체 목록 (26개국):
오스트리아, 벨기에, 체코, 덴마크, 에스토니아, 핀란드, 프랑스,
독일, 그리스, 헝가리, 아이슬란드, 이탈리아, 라트비아, 리투아니아,
룩셈부르크, 몰타, 네덜란드, 노르웨이, 폴란드, 포르투갈, 슬로바키아,
슬로베니아, 스페인, 스웨덴, 스위스, 리히텐슈타인

📋 **데이터 관리**: 최신 셰겐 국가 정보는 `/constants/countries.ts`에서 중앙 관리됩니다.
```

**2단계: 계산 로직 이해**

```
셰겐 규정:
- 180일 기간 내 최대 90일 체류 가능
- 매일이 새로운 180일 기간의 시작점
- 과거 180일 동안의 체류 일수 계산

예시 (2024년 기준):
7월 15일 현재 체류 가능 일수 계산
→ 2024년 1월 17일부터 7월 15일까지 (180일)
→ 이 기간 내 셰겐 체류 일수 합계 계산
→ 90일에서 사용 일수를 뺀 값이 남은 일수
```

**3단계: 수동 재계산**

```
직접 확인 방법:
1. 스프레드시트에 모든 셰겐 방문 기록 입력
2. 각 날짜별로 180일 전부터 당일까지 체류 일수 계산
3. DINOapp 결과와 비교하여 차이점 확인
4. 누락된 여행 기록이나 잘못된 날짜 수정
```

### 국가 분류 오류

#### 증상

- 비셰겐 국가가 셰겐으로 계산됨
- 새로 가입한 국가 정보 업데이트 지연

#### 해결 방법

```
자주 혼동되는 국가들:
🇬🇧 영국: 셰겐 ❌ (Brexit 이후)
🇮🇪 아일랜드: 셰겐 ❌ (CTA 체결)
🇷🇴 루마니아: 셰겐 ✅ (2024년 부분 가입)
🇧🇬 불가리아: 셰겐 ✅ (2024년 부분 가입)
🇭🇷 크로아티아: 셰겐 ✅ (2023년 가입)

수동 수정:
1. 여행 기록 → 해당 국가 클릭
2. "셰겐 적용 여부" 토글 수정
3. 변경 사항 저장
```

## 📱 모바일 앱 문제

### PWA 설치 실패

#### 증상

- "홈 화면에 추가" 옵션이 나타나지 않음
- 설치 후 일반 웹페이지처럼 실행됨
- 아이콘이 홈 화면에 추가되지 않음

#### iOS Safari 해결 방법

```
확인 사항:
✅ iOS 11.3 이상 버전
✅ Safari 브라우저 사용 (Chrome/Firefox 불가)
✅ 개인정보 보호 모드가 아닌 일반 모드

설치 과정:
1. Safari에서 dinoapp.vercel.app 접속
2. 하단 공유 버튼 (📤) 클릭
3. 스크롤하여 "홈 화면에 추가" 찾기
4. 앱 이름 확인 후 "추가" 클릭
5. 홈 화면에서 DINOapp 아이콘 확인

문제 해결:
- 옵션이 보이지 않으면: 페이지 완전 로딩 후 재시도
- 설치 후 Safari로 열림: 홈 화면 아이콘 다시 클릭
```

#### Android Chrome 해결 방법

```
확인 사항:
✅ Android 5.0 이상, Chrome 브라우저
✅ 데이터 절약 모드 비활성화
✅ 충분한 저장 공간 (최소 50MB)

설치 과정:
1. Chrome에서 사이트 접속
2. 주소창에 "설치" 아이콘 나타나면 클릭
   또는 메뉴(⋮) → "앱 설치" 선택
3. 설치 확인 대화상자에서 "설치" 클릭
4. 앱 드로어에서 DINOapp 확인

문제 해결:
- 설치 옵션 없음: Chrome 업데이트 확인
- 설치 후 웹 브라우저로 열림: 앱 드로어에서 직접 실행
```

### 오프라인 모드 문제

#### 증상

- 오프라인에서 앱이 로드되지 않음
- 캐시된 데이터가 표시되지 않음
- 온라인 복구 후 데이터 동기화 실패

#### 해결 방법

**캐시 문제 해결**

```
1. 브라우저 캐시 확인:
   Chrome: F12 → Application → Storage → Clear storage
   Safari: 개발자 → 저장용량 → 웹사이트 데이터 관리

2. 서비스 워커 재설치:
   - 브라우저 개발자 도구 → Application → Service Workers
   - DINOapp 서비스 워커 "Unregister" 후 페이지 새로고침

3. 수동 캐시 갱신:
   - 설정 → 오프라인 모드 → "캐시 새로고침"
   - WiFi 연결 상태에서 모든 데이터 다시 다운로드
```

**동기화 문제 해결**

```
동기화 충돌 시:
1. 설정 → 데이터 관리 → 동기화 상태 확인
2. "충돌 해결" 버튼 클릭
3. 로컬 데이터 vs 서버 데이터 비교
4. 보존할 데이터 선택 후 병합

자동 동기화 실패 시:
- 백그라운드 동기화 권한 확인
- 배터리 최적화에서 DINOapp 제외
- 수동 동기화로 임시 해결
```

## 📊 데이터 및 동기화 문제

### 여행 기록 누락

#### 증상

- 추가한 여행 기록이 사라짐
- 다른 기기에서 데이터가 다르게 표시
- Gmail에서 인식한 여행이 저장되지 않음

#### 해결 방법

**데이터 무결성 검사**

```
1. 설정 → 데이터 관리 → "데이터 검증" 실행
2. 발견된 문제점:
   - 중복 기록 자동 제거
   - 누락된 필수 필드 보완
   - 날짜 형식 오류 수정
   - 국가명 표준화

3. 백업에서 복구:
   - 자동 백업 목록 확인
   - 특정 날짜 시점으로 복구
   - 선택적 데이터 복구 가능
```

**Gmail 연동 데이터 문제**

```
증상별 해결책:

📧 이메일 인식했으나 저장 안됨:
→ 설정 → Gmail 연동 → "대기 중인 항목" 확인
→ 수동으로 승인하여 여행 기록에 추가

✈️ 항공편 정보 불완전:
→ 이메일 원본 확인하여 누락 정보 수동 입력
→ 왕복 항공편인 경우 출발/도착 정보 분리 입력

🏨 호텔 정보 잘못 인식:
→ 체크인/아웃 날짜 수정
→ 국가/도시 정보 정확히 선택
```

### 계정 간 데이터 충돌

#### 증상

- 여러 기기에서 다른 데이터 표시
- 동기화 후 일부 데이터 중복
- 삭제한 기록이 다시 나타남

#### 해결 방법

**마스터 데이터 선택**

```
1. 가장 완전한 데이터를 가진 기기 식별
2. 설정 → 고급 → "마스터 동기화 실행"
3. 다른 모든 기기에서 데이터 초기화 후 재동기화
4. 24시간 후 모든 기기에서 데이터 일치 확인
```

**충돌 해결 프로세스**

```
자동 해결 규칙:
✅ 최근 수정 시간 우선
✅ 더 완전한 정보 우선 (필드가 많은 기록)
✅ 삭제 작업은 생성/수정보다 우선

수동 해결 필요한 경우:
⚠️ 같은 여행의 다른 날짜 정보
⚠️ 같은 국가의 다른 도시 정보
⚠️ 다른 여행 목적 (관광 vs 업무)

해결 과정:
1. 충돌 감지 시 알림 표시
2. 두 버전의 데이터 비교 화면
3. 보존할 정보 선택 또는 수동 병합
4. 결정 후 모든 기기에 반영
```

## ⚡ 성능 및 속도 문제

### 앱 로딩 속도 개선

#### 증상

- 앱 시작 시간이 오래 걸림 (10초 이상)
- 페이지 전환 시 지연 발생
- 큰 데이터 로드 시 응답 없음

#### 해결 방법

**브라우저 최적화**

```
Chrome 최적화:
1. chrome://settings/content/all → dinoapp.vercel.app 검색
2. 쿠키 및 사이트 데이터 허용
3. 자바스크립트 허용
4. 팝업 및 리디렉션 허용
5. 불필요한 확장 프로그램 비활성화

Safari 최적화:
1. 개발자 → 캐시 비우기
2. 환경설정 → 개인정보 보호 → 지능형 추적 방지 해제
3. 환경설정 → 보안 → 자바스크립트 사용 확인

모든 브라우저 공통:
- 하드웨어 가속 활성화
- 메모리 사용량 최적화 (탭 개수 제한)
- 정기적인 브라우저 재시작
```

**데이터 최적화**

```
설정 → 성능 최적화:

📊 데이터 로딩 설정:
- 지연 로딩 활성화 (대용량 데이터 점진적 로드)
- 이미지 압축 활성화 (사진 첨부 시)
- 캐시 기간 연장 (정적 데이터 7일 캐시)

🔄 동기화 최적화:
- 백그라운드 동기화 간격 조정 (1시간 → 4시간)
- 델타 동기화 활성화 (변경된 데이터만 전송)
- 압축 전송 활성화 (데이터 사용량 50% 절약)
```

### 메모리 사용량 문제

#### 증상

- 브라우저 탭이 멈추거나 충돌
- 다른 앱이 느려짐
- 모바일에서 앱이 자주 재시작됨

#### 해결 방법

**메모리 최적화 설정**

```
설정 → 고급 → 메모리 관리:

🧹 자동 정리 기능:
- 30분 미사용 시 임시 데이터 삭제
- 이미지 캐시 자동 정리 (100MB 한도)
- 오래된 검색 기록 자동 삭제 (30일)

📱 모바일 최적화:
- 배경 앱 새로고침 비활성화
- 자동 사진 백업 비활성화
- 푸시 알림 최적화 (중요한 알림만)

💻 데스크톱 최적화:
- 브라우저 프로세스 분리 활성화
- GPU 렌더링 활성화
- 메모리 압축 활성화
```

## 🔔 알림 및 연동 문제

### 푸시 알림 문제

#### 증상

- 비자 만료 알림이 오지 않음
- 셰겐 경고 알림 누락
- 모바일에서만 알림 안됨

#### 해결 방법

**알림 권한 점검**

```
브라우저별 확인:
Chrome: 설정 → 개인정보 보호 및 보안 → 사이트 설정 → 알림
→ dinoapp.vercel.app 허용 확인

Safari: 환경설정 → 웹사이트 → 알림
→ DINOapp 허용 설정

Firefox: 설정 → 개인정보 보호 및 보안 → 권한 → 알림
→ dinoapp.vercel.app 허용 확인

모바일 (PWA):
- 기기 설정 → 알림 → DINOapp 허용
- 방해 금지 모드 설정 확인
- 배터리 최적화에서 DINOapp 제외
```

**알림 설정 최적화**

```
DINOapp 내 설정:
설정 → 알림 → 상세 설정

⏰ 알림 시간:
- 업무 시간: 09:00-18:00
- 개인 시간: 18:00-22:00
- 방해 금지: 22:00-09:00

📅 알림 종류별 설정:
- 비자 만료: 30일/7일/1일 전 (필수)
- 셰겐 경고: 80%/90% 도달 시
- 여행 일정: 3일/1일 전
- 월간 리포트: 매월 1일 오전 9시

🔄 알림 전송 방식:
- 브라우저 푸시 알림 (실시간)
- 이메일 알림 (백업용)
- Slack/Teams 연동 (팀 공유용)
```

### 캘린더 동기화 문제

#### 증상

- Google Calendar에 일정이 추가되지 않음
- 일정 수정 시 양방향 동기화 안됨
- 중복 일정 생성

#### 해결 방법

**Google Calendar 권한 재설정**

```
1. myaccount.google.com → 보안 → 타사 앱 액세스
2. DINOapp 찾아서 "액세스 권한 삭제"
3. DINOapp에서 설정 → Calendar 연동 → "다시 연결"
4. 모든 권한 허용 (캘린더 읽기/쓰기)
5. 동기화할 캘린더 선택
```

**동기화 규칙 설정**

```
설정 → Calendar 연동 → 동기화 규칙:

📅 DINOapp → Google Calendar:
✅ 새 여행 시작/종료 일정 자동 생성
✅ 비자 만료일 30일 전 알림 이벤트
✅ 셰겐 180일 리셋 알림 이벤트
❌ 과거 여행 기록 (불필요한 과거 일정 방지)

📅 Google Calendar → DINOapp:
✅ "여행" 키워드 포함 이벤트 인식
✅ 항공편/호텔 예약 정보 포함 이벤트
❌ 개인 일정 (프라이버시 보호)

🔄 충돌 해결:
- DINOapp 수정이 Google Calendar보다 우선
- 삭제 작업은 양방향 즉시 반영
- 시간 변경은 24시간 후 반영
```

## 📞 고객 지원 및 추가 도움

### 문제 해결이 안될 때

#### 자가 진단 도구 실행

```
도구 위치: 설정 → 고급 → 문제 해결

🔍 자동 진단 항목:
- 네트워크 연결 상태
- 브라우저 호환성
- 로그인 세션 유효성
- 데이터 무결성
- API 응답 시간
- 캐시 상태

📋 진단 결과:
- 문제 요약 및 영향도
- 추천 해결 방법
- 수동 수정이 필요한 항목
- 고객지원 요청 시 첨부용 로그
```

#### 로그 수집 및 제출

```
문제 발생 시 로그 수집:
1. F12 → Console 탭에서 오류 메시지 복사
2. Network 탭에서 실패한 요청 확인
3. 설정 → 고급 → "로그 내보내기" 실행
4. 문제 재현 단계 상세 기록
5. 스크린샷 첨부 (민감정보 제외)

지원 요청 시 필수 정보:
- 브라우저 종류 및 버전
- 운영체제 정보
- 계정 이메일 (확인용)
- 문제 발생 시간
- 재현 단계
- 기대 결과 vs 실제 결과
```

### 연락처 및 지원 채널

#### 즉시 도움받기

```
🔴 긴급 상황 (계정 잠금, 데이터 손실):
- 24시간 응급 지원: emergency@dinoapp.com
- 평균 응답 시간: 2시간 이내

🟡 일반 문의:
- 이메일: support@dinoapp.com
- 평균 응답 시간: 24시간 이내
- 운영 시간: 월-금 09:00-18:00 (KST)

💬 실시간 채팅:
- 앱 내 우하단 채팅 버튼
- 운영 시간: 월-금 10:00-17:00 (KST)
- 평균 대기 시간: 5분 이내

📚 자가 해결:
- 도움말 센터: help.dinoapp.com
- 커뮤니티 포럼: community.dinoapp.com
- YouTube 가이드: youtube.com/@dinoapp
```

#### 피드백 및 기능 요청

```
📝 기능 제안:
- 이메일: feature@dinoapp.com
- 앱 내 "피드백 보내기" 버튼
- 커뮤니티 포럼 "기능 요청" 섹션

🐛 버그 신고:
- GitHub Issues: github.com/dinoapp/issues
- 이메일: bugs@dinoapp.com
- 버그 바운티 프로그램 참여 가능

⭐ 평가 및 리뷰:
- 앱 스토어 리뷰 (모바일 버전 출시 후)
- 브라우저 확장 프로그램 스토어
- 소셜 미디어 @dinoapp
```

---

**관련 가이드**: [시작하기](./getting-started.md) | [고급 기능](./advanced-features.md) | [모바일 가이드](./mobile-guide.md) | [베스트 프랙티스](./best-practices.md)
